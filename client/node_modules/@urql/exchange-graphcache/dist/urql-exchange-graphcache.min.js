"use strict";var e=require("graphql"),t=require("@urql/core"),r=require("./1cc90026.min.js"),n=require("wonka"),i=function(e){return e.name.value},o=function(e){return e.typeCondition.name.value},a=function(e){return e.alias?e.alias.value:i(e)},u=function(e){return e.selectionSet?e.selectionSet.selections:[]},s=function(e){return e.typeCondition?i(e.typeCondition):null},f=function(t){return t.kind===e.Kind.FIELD},c=function(t){return t.kind===e.Kind.INLINE_FRAGMENT},l=function(t,r){var n={},o=0;if(t.arguments&&t.arguments.length)for(var a=0,u=t.arguments.length;a<u;a++){var s=t.arguments[a],f=e.valueFromASTUntyped(s.value,r);null!=f&&(n[i(s)]=f,o++)}return 0<o?n:null},d=function(e,t){if(t&&e.variableDefinitions){for(var r={},n=0,o=e.variableDefinitions.length;n<o;n++){var a=i(e.variableDefinitions[n].variable);r[a]=t[a]}return r}},p=function(t,r){var n={};if(!r)return n;if(t.variableDefinitions)for(var o=0,a=t.variableDefinitions.length;o<a;o++){var u=t.variableDefinitions[o],s=i(u.variable);n[s]=void 0===r[s]&&u.defaultValue?e.valueFromASTUntyped(u.defaultValue,r):r[s]}for(var f in r)f in n||(n[f]=r[f]);return n};function y(e,t,r){if(!e)throw(e=Error((t||"Minfied Error #"+r+"\n")+"\nhttps://bit.ly/2XbVrpR#"+r)).name="Graphcache Error",e}new Set;var v=function(t){for(var r=0;r<t.definitions.length;r++)if(t.definitions[r].kind===e.Kind.OPERATION_DEFINITION)return t.definitions[r];y(!1,"",1)},m=function(t){for(var r={},n=0;n<t.definitions.length;n++){var o=t.definitions[n];o.kind===e.Kind.FRAGMENT_DEFINITION&&(r[i(o)]=o)}return r},h=function(t,r){var n=t.directives;if(!n)return!0;for(var o=0,a=n.length;o<a;o++){var u=n[o];if(("include"===(t=i(u))||"skip"===t)&&u.arguments&&u.arguments[0]&&"if"===i(u.arguments[0]))return r=e.valueFromASTUntyped(u.arguments[0].value,r),"include"===t?!!r:!r}return!0};function k(e){for(var t={},r=0;r<e.length;r++)t[e[r].name]=e[r];return t}var g=/^__/,O=function(e,t,r){return!!g.test(r)||!!(e=q(e,t,r))&&"NON_NULL"!==e.type.kind},_=function(e,t,r){return!!(e=q(e,t,r))&&"LIST"===(e="NON_NULL"===e.type.kind?e.type.ofType:e.type).kind&&"NON_NULL"!==e.ofType.kind},b=function(e,t,r){return!!r&&(!(t=s(t))||r===t||(e.types[t]&&"OBJECT"===e.types[t].kind?t===r:(function(e,t){y(e.types[t]&&("INTERFACE"===e.types[t].kind||"UNION"===e.types[t].kind),"",5)}(e,t),w(e,r),e.isSubType(t,r))))},q=function(e,t,r){return w(e,t),e.types[t].fields[r]};function w(e,t){y(e.types[t]&&"OBJECT"===e.types[t].kind,"",3)}var N=function(e,r){return r?e+"("+t.stringifyVariables(r)+")":e},x=function(e,t){return e+"."+t},E=function(e){var t=e.indexOf("(");return-1<t?{fieldKey:e,fieldName:e.slice(0,t),arguments:JSON.parse(e.slice(t+1,-1))}:{fieldKey:e,fieldName:e,arguments:null}},K=function(e){var t=e.indexOf(".");return{entityKey:e.slice(0,t).replace(/%2e/g,"."),fieldKey:e=e.slice(t+1)}},S=function(){return Object.create(null)},T=null,F=null,A=null,L=null,D=!1,M=function(){return{optimistic:S(),base:new Map}},I=function(e,t,r,n){T=e,F=t,A=S(),D=!!n,r?n||0<t.optimisticOrder.length?(n||t.commutativeKeys.has(r)?n&&t.commutativeKeys.delete(r):ee(t,r),L=r,te(t,r)):(L=null,ne(t,r)):L=null},C=function(){var e=F,t=L;if(D=!1,L=null,t&&-1<e.optimisticOrder.indexOf(t))for(t=e.optimisticOrder.length;0<=--t&&e.refLock[e.optimisticOrder[t]]&&e.commutativeKeys.has(e.optimisticOrder[t]);)ae(e.optimisticOrder[t]);A=F=T=null,e.defer||(e.defer=!0,Promise.resolve().then((function(){I("read",e,null),z(),se(),C(),e.defer=!1})))},P=function(e,t,r){I("read",e,t,r),C()},R=function(){return y(null!==A,"",2),A},U=function(e,t,r,n){var i=(e=L?e.optimistic[L]:e.base).get(t);void 0===i&&e.set(t,i=S()),void 0!==n||L?i[r]=n:delete i[r]},J=function(e,t,r){for(var n,i=!D&&"read"===T&&L&&F.commutativeKeys.has(L),o=0,a=F.optimisticOrder.length;o<a;o++){var u=F.optimisticOrder[o],s=e.optimistic[u];if(i=i&&u!==L,!(!s||i&&F.commutativeKeys.has(u)||D&&"write"!==T&&!F.commutativeKeys.has(u))&&void 0!==(n=s.get(t))&&r in n)return n[r]}return void 0!==(n=e.base.get(t))?n[r]:void 0},j=function(e,t,r,n){var i=void 0!==t[r]?t[r]:0;t=t[r]=i+n|0,void 0!==e&&(0>=t?e.add(r):0>=i&&0<t&&e.delete(r))},B=function(e,t,r,n){if("string"==typeof r)j(e,t,r,n);else if(Array.isArray(r))for(var i=0,o=r.length;i<o;i++){var a=r[i];a&&j(e,t,a,n)}},V=function(e,t,r){if(void 0!==r)for(var n in r)t.has(n)||(e.push(E(n)),t.add(n))},Q=function(e,t,r,n){V(e,t,n.base.get(r));for(var i=0,o=F.optimisticOrder.length;i<o;i++){var a=n.optimistic[F.optimisticOrder[i]];void 0!==a&&V(e,t,a.get(r))}};function G(e,t,r){if(0<(F.refCount[e]||0))r.delete(e);else{for(var n in F.refLock){if(0<((t=F.refLock[n])[e]||0))return;delete t[e]}if(delete F.refCount[e],r.delete(e),F.records.base.delete(e),n=F.links.base.get(e))for(var i in F.links.base.delete(e),n)B(r,F.refCount,n[i],-1)}}var z=function(){F.gc.forEach(G)},X=function(e,t){"__typename"!==t&&(e!==F.queryRootKey?A[e]=!0:void 0!==t&&(A[x(e,t)]=!0))},H=function(e,t){!D&&F.storage&&F.persist.add(function(e,t){return e.replace(/\./g,"%2e")+"."+t}(e,t))},W=function(e,t){return X(e,t),J(F.records,e,t)},Y=function(e,t){return X(e,t),J(F.links,e,t)},Z=function(e,t,r){X(e,t),H(e,t),U(F.records,e,t,r)},$=function(e,t,r){var n=F;if(L)var i=n.refLock[L]||(n.refLock[L]=S()),o=n.links.optimistic[L];else{i=n.refCount,o=n.links.base;var a=n.gc}o=(o=o&&o.get(e))&&o[t],X(e,t),H(e,t),U(n.links,e,t,r),B(a,i,o,-1),B(a,i,r,1)},ee=function(e,t){var r=e.optimisticOrder.indexOf(t);-1===r?e.optimisticOrder.unshift(t):e.commutativeKeys.has(t)||(re(e,t),e.optimisticOrder.splice(r,1),e.optimisticOrder.unshift(t)),e.commutativeKeys.add(t)},te=function(e,t){-1===e.optimisticOrder.indexOf(t)&&e.optimisticOrder.unshift(t),e.refLock[t]||(e.refLock[t]=S(),e.links.optimistic[t]=new Map,e.records.optimistic[t]=new Map)},re=function(e,t){e.refLock[t]&&(delete e.refLock[t],delete e.records.optimistic[t],delete e.links.optimistic[t])},ne=function(e,t){var r=e.optimisticOrder.indexOf(t);-1<r&&(e.optimisticOrder.splice(r,1),e.commutativeKeys.delete(t)),re(e,t)};function ie(e,t){for(var r in e)$(t,r,e[r])}function oe(e,t){for(var r in e)Z(t,r,e[r])}var ae=function(e){var t=A;A=S();var r=F.links.optimistic[e];r&&r.forEach(ie),(r=F.records.optimistic[e])&&r.forEach(oe),A=t,ne(F,e)},ue=function(e){var t=F.links,r=F.records,n=[],i=new Set;return X(e),Q(n,i,e,t),Q(n,i,e,r),n},se=function(){if(F.storage){D=!0,T="read";var e=S();F.persist.forEach((function(r){var n,i=K(r),o=i.entityKey;e[r]=void 0!==(n=Y(o,i=i.fieldKey))?":"+t.stringifyVariables(n):void 0!==(n=W(o,i))?t.stringifyVariables(n):void 0})),D=!1,F.storage.writeData(e),F.persist.clear()}},fe={current:null},ce=function(e,t,r,n,i,o){return{store:e,variables:t,fragments:r,parent:{__typename:n},parentTypeName:n,parentKey:i,parentFieldKey:"",fieldName:"",partial:!1,optimistic:!!o}},le=function(e,t,r,n,i,o){fe.current=e,e.parent=t,e.parentTypeName=r,e.parentKey=n,e.parentFieldKey=i,e.fieldName=o},de=function(e,t,r,n){if(!t)return!1;var o=s(e);return!o||t===o||!u(e).some((function(e){return!!f(e)&&(e=N(i(e),l(e,n)),!function(e,t){return void 0!==W(e,t)||void 0!==Y(e,t)}(r,e))}))},pe=function(e,t,r,n){var o,a=0;return function(){if(void 0!==o){var s=o();if(void 0!==s)return s;o=void 0}for(;a<r.length;)if(s=r[a++],h(s,n.variables)){if(f(s))return s;if(void 0!==(s=c(s)?s:n.fragments[i(s)])&&(n.store.schema?b(n.store.schema,s,e):de(s,e,t,n.variables)))return(o=pe(e,t,u(s),n))()}}},ye=function(e){return void 0===e?null:e},ve=function(e,t,r,n){return I("write",e.data,n||null),e=me(e,t,r),C(),e},me=function(e,t,r){var n=v(t.query),i={data:r,dependencies:R()},o=e.rootFields[n.operation];return e=ce(e,p(n,t.variables),m(t.query),o,o),he(e,o,u(n),r),i},he=function(e,t,r,n){var o=t===e.store.rootFields.query,s=!o&&!!e.store.rootNames[t],f=s||o?t:n.__typename;if(f){s||o||!t||Z(t,"__typename",f),r=pe(f,t||f,r,e);for(var c;c=r();){o=i(c);var d=l(c,e.variables),p=N(o,d),y=a(c),v=n[y];if("__typename"!==o){if(e.optimistic&&s){if(!(v=e.store.optimisticMutations[o]))continue;le(e,n,f,f,p,o),v=n[y]=ye(v(d||{},e.store,e))}c.selectionSet?t&&!s?(y=x(t,p),c=ke(e,u(c),ye(v),y),$(t||f,p,c)):ke(e,u(c),ye(v)):t&&!s&&Z(t||f,p,v),s&&(le(e,n,f,f,x(f,p),o),p=e.store.updates[f][o])&&(n[o]=v,p(n,d||{},e.store,e))}}}},ke=function(e,t,r,n){if(Array.isArray(r)){for(var i=Array(r.length),o=0,a=r.length;o<a;o++){var u=r[o],s=n?x(n,""+o):void 0;u=ke(e,t,u,s),i[o]=u}return i}return null===r?null:(n=e.store.keyOfEntity(r)||n,he(e,n,t,r),n||null)},ge=function(e){var t,r;this.keyOfField=N,this.resolveFieldByKey=this.resolve,e||(e={}),this.resolvers=e.resolvers||{},this.optimisticMutations=e.optimistic||{},this.keys=e.keys||{};var n="Query",i="Mutation",o="Subscription";if(e.schema){var a=this.schema=function(e){function t(e){return{name:e.name,type:e.type,args:n(e.args)}}e=e.__schema;for(var r={},n=k,i=function(e){switch(e.kind){case"OBJECT":case"INTERFACE":return{name:e.name,kind:e.kind,interfaces:n(e.interfaces||[]),fields:n(e.fields.map(t))};case"UNION":return{name:e.name,kind:e.kind,types:n(e.possibleTypes||[])}}},o=0;o<e.types.length;o++){var a=e.types[o];if(a&&a.name){var u=i(a);u&&(r[a.name]=u)}}return{query:e.queryType?e.queryType.name:null,mutation:e.mutationType?e.mutationType.name:null,subscription:e.subscriptionType?e.subscriptionType.name:null,types:r,isSubType:function(e,t){var n=r[e],i=r[t];return!!(n&&i&&("UNION"===n.kind?n.types[t]:"OBJECT"!==n.kind&&"OBJECT"===i.kind?i.interfaces[e]:e===t))}}}(e.schema);n=a.query||n,i=a.mutation||i,o=a.subscription||o}this.updates=((t={})[i]=e.updates&&e.updates.Mutation||{},t[o]=e.updates&&e.updates.Subscription||{},t),this.rootFields={query:n,mutation:i,subscription:o},this.rootNames=((r={})[n]="query",r[i]="mutation",r[o]="subscription",r),this.data=function(e){return{defer:!1,gc:new Set,persist:new Set,queryRootKey:e,refCount:S(),refLock:S(),links:M(),records:M(),commutativeKeys:new Set,optimisticOrder:[],storage:null}}(n)};ge.prototype.keyOfEntity=function(e){return fe.current&&e===fe.current.parent?fe.current.parentKey:null==e||"string"==typeof e?e||null:e.__typename?this.rootNames[e.__typename]?e.__typename:(this.keys[e.__typename]?t=this.keys[e.__typename](e):null!=e.id?t=""+e.id:null!=e._id&&(t=""+e._id),t?e.__typename+":"+t:null):null;var t},ge.prototype.resolve=function(e,t,r){return t=N(t,r),(e=this.keyOfEntity(e))?void 0!==(r=W(e,t))?r:Y(e,t)||null:null},ge.prototype.invalidate=function(e,t,r){y(e=this.keyOfEntity(e),"",19),function(e,t,r){t=t?[{fieldKey:N(t,r)}]:ue(e),r=0;for(var n=t.length;r<n;r++){var i=t[r].fieldKey;void 0!==Y(e,i)?$(e,i,void 0):Z(e,i,void 0)}}(e,t,r)},ge.prototype.inspectFields=function(e){return(e=this.keyOfEntity(e))?ue(e):[]},ge.prototype.updateQuery=function(e,r){(e=t.createRequest(e.query,e.variables)).query=t.formatDocument(e.query),null!==(r=r(this.readQuery(e)))&&me(this,e,r)},ge.prototype.readQuery=function(e){return(e=t.createRequest(e.query,e.variables)).query=t.formatDocument(e.query),_e(this,e).data},ge.prototype.readFragment=function(e,r,n){return we(this,t.formatDocument(e),r,n)},ge.prototype.writeFragment=function(e,n,i){!function(e,t,n,i){t=m(t);var a=Object.keys(t);if(a=t[a[0]]){var s=o(a);n=r._extends({},{__typename:s},n);var f=e.keyOfEntity(n);f&&(e=ce(e,i||{},t,s,f),he(e,f,u(a),n))}}(this,t.formatDocument(e),n,i)};var Oe=function(e,t,r,n){return I("read",e.data,r&&n||null),e=_e(e,t,r),C(),e},_e=function(e,t,r){var n=v(t.query),i=e.rootFields[n.operation],o=u(n);return r=i!==(e=ce(e,p(n,t.variables),m(t.query),i,i)).store.rootFields.query?be(e,i,o,r||{}):Ne(e,i,o,{}),{dependencies:R(),partial:e.partial||!r,data:r||null}},be=function(e,t,r,n){if("string"!=typeof n.__typename)return n;t=pe(t,t,r,e),(r={}).__typename=n.__typename;for(var i;i=t();){var o=a(i),s=n[o];i.selectionSet&&null!==s?(s=ye(s),r[o]=qe(e,u(i),s)):r[o]=s}return r},qe=function(e,t,r){if(Array.isArray(r)){for(var n=Array(r.length),i=0,o=r.length;i<o;i++)n[i]=qe(e,t,r[i]);return n}return null===r?null:null!==(n=e.store.keyOfEntity(r))?void 0===(e=Ne(e,n,t,{}))?null:e:be(e,r.__typename,t,r)},we=function(e,t,r,n){t=m(t);var i=Object.keys(t);if(!(i=t[i[0]]))return null;var a=o(i);return"string"==typeof r||r.__typename||(r.__typename=a),(r=e.keyOfEntity(r))?(e=ce(e,n||{},t,a,r),Ne(e,r,u(i),{})||null):null},Ne=function(e,t,r,n,o){var s=e.store,f=t===s.rootFields.query,c=o&&s.keyOfEntity(o)||t;if("string"==typeof(t=f?t:W(c,"__typename")||o&&o.__typename)&&(!o||t===o.__typename)){r=pe(t,c,r,e);for(var d,p=!1,v=!1;void 0!==(d=r());){var m=i(d),h=l(d,e.variables),k=a(d),g=N(m,h),_=x(c,g),b=W(c,g),q=o?o[m]:void 0,w=s.resolvers[t],E=void 0;if("__typename"===m)n[k]=t;else{if(void 0!==q&&void 0===d.selectionSet)E=q;else if("read"===(y(null!==T,"",2),T)&&w&&"function"==typeof w[m]){if(le(e,n,t,c,_,m),void 0!==b&&(n[k]=b),E=w[m](n,h||{},s,e),d.selectionSet&&(E=xe(e,t,m,_,u(d),n[k],E)),s.schema&&null===E&&!O(s.schema,t,m))return}else d.selectionSet?void 0!==q?E=xe(e,t,m,_,u(d),n[k],q):void 0!==(h=Y(c,g))?E=Ee(e,h,t,m,u(d),n[k]):"object"==typeof b&&null!==b&&(E=b):E=b;if(void 0===E&&s.schema&&O(s.schema,t,m))v=!0,n[k]=null;else{if(void 0===E)return;p=!0,n[k]=E}}}return v&&(e.partial=!0),f&&v&&!p?void 0:n}},xe=function(e,t,r,n,i,o,a){if(Array.isArray(a)){var u=e.store;u=!u.schema||_(u.schema,t,r);for(var s=Array(a.length),f=0,c=a.length;f<c;f++){var l=xe(e,t,r,x(n,""+f),i,null!=o?o[f]:void 0,a[f]);if(void 0===l&&!u)return;s[f]=void 0!==l?l:null}return s}return null==a?a:null===o?null:Ke(a)?(t=o||{},"string"==typeof a?Ne(e,a,i,t):Ne(e,n,i,t,a)):void 0},Ee=function(e,t,r,n,i,o){if(Array.isArray(t)){var a=e.store;a=a.schema&&_(a.schema,r,n);for(var u=Array(t.length),s=0,f=t.length;s<f;s++){var c=Ee(e,t[s],r,n,i,null!=o?o[s]:void 0);if(void 0===c&&!a)return;u[s]=void 0!==c?c:null}return u}return null===t||null===o?null:Ne(e,t,i,o||{})},Ke=function(e){return"string"==typeof e||"object"==typeof e&&"string"==typeof e.__typename},Se=function(e,n){return t.makeOperation(e.kind,e,r._extends({},e.context,{meta:r._extends({},e.context.meta,{cacheOutcome:n})}))},Te=function(e,n){return t.makeOperation(e.kind,e,r._extends({},e.context,{requestPolicy:n}))};function Fe(e){return n.fromArray(e[0])}function Ae(e,t){return e.push(t),e}function Le(e){return"query"===e.kind&&"network-only"!==e.context.requestPolicy}function De(e){return"query"!==e.kind||"network-only"===e.context.requestPolicy}function Me(e){return"miss"!==e.outcome||"cache-only"===e.operation.context.requestPolicy}var Ie=function(e){return function(r){function i(e){return Se(e.operation,"miss")}function o(e){return"miss"===e.outcome&&"cache-only"!==e.operation.context.requestPolicy&&!E(e.dependencies)}function a(e){var t=e.operation,r=e.outcome,n=e.dependencies;return e={operation:Se(t,r),data:e.data,error:e.error,extensions:e.extensions},("cache-and-network"===t.context.requestPolicy||"cache-first"===t.context.requestPolicy&&"partial"===r)&&(e.stale=!0,E(n)?"cache-and-network"===t.context.requestPolicy&&N.add(t.key):g.reexecuteOperation(Te(t,"network-only"))),e}function s(e){var t=new Set,r=M(e,t);return F(e.operation,t),r}function f(e){return!_.has(e.operation.key)}function c(e){if(b.push(e)<_.size)return n.empty;for(var t=0;t<b.length;t++)ee(O.data,b[t].operation.key);for(var r in w)delete w[r];t=[],r=new Set;for(var i;i=b.shift();)t.push(M(i,r));return F(e.operation,r),n.fromArray(t)}function l(e){return _.has(e.operation.key)}var h,k=r.forward,g=r.client,O=new ge(e);e&&e.storage&&(h=e.storage.readData().then((function(t){!function(e,t,r){for(var n in I("write",e,null),r){var i=r[n];if(void 0!==i){var o=K(n),a=o.entityKey;o=o.fieldKey,":"===i[0]?$(a,o,JSON.parse(i.slice(1))):Z(a,o,JSON.parse(i))}}C(),e.storage=t}(O.data,e.storage,t)})));var _=new Map,b=[],q=new Map,w=S(),N=new Set,x=S(),E=function(e){for(var t in e)if(w[t])return!0;return!1},T=function(e,t){if(t)for(var r in t)if(t=x[r]){x[r]=[];for(var n=0,i=t.length;n<i;n++)e.add(t[n])}},F=function(e,t){t.forEach((function(t){if(t!==e.key){var r=q.get(t);if(r){q.delete(t);var n="cache-first";N.has(t)&&(N.delete(t),n="cache-and-network"),g.reexecuteOperation(Te(r,n))}}}))},A=function(e){if("query"===e.kind)ee(O.data,e.key);else if("teardown"===e.kind)q.delete(e.key),P(O.data,e.key);else if("mutation"===e.kind&&"network-only"!==e.context.requestPolicy){var r=function(e,t,r){I("write",e.data,r,!0),r=v(t.query);var n={data:{},dependencies:R()},i=e.rootFields[r.operation];return y(i===e.rootFields.mutation,"",10),e=ce(e,p(r,t.variables),m(t.query),i,i,!0),he(e,i,u(r),n.data),C(),n}(O,e,e.key).dependencies;if(!function(e){for(var t in e)return!1;return!0}(r)){for(var n in r)w[n]=!0;_.set(e.key,r),n=new Set,T(n,r),F(e,n)}}return t.makeOperation(e.kind,{key:e.key,query:t.formatDocument(e.query),variables:e.variables?d(v(e.query),e.variables):e.variables},e.context)},L=function(e,t){for(var r in t)(x[r]||(x[r]=[])).push(e.key),q.set(e.key,e)},D=function(e){var t=Oe(O,e),r=t.data?t.partial?"partial":"hit":"miss";return L(e,t.dependencies),{outcome:r,operation:e,data:t.data,dependencies:t.dependencies}},M=function(e,t){var r=e.operation,n=e.error,i=e.extensions,o=r.key;if("mutation"===r.kind){var a=_.get(o);T(t,a),_.delete(o)}else ee(O.data,r.key);if(e.data){if(a=ve(O,r,e.data,o).dependencies,T(t,a),o=Oe(O,r,e.data,o),e.data=o.data,"query"===r.kind){var u=o.dependencies;T(t,u)}}else P(O.data,r.key);return u&&L(e.operation,u),{data:e.data,error:n,extensions:i,operation:r}};return function(e){e=n.share(e);var t=h?n.mergeMap(Fe)(n.take(1)(n.combine(n.scan(Ae,[])(e),n.fromPromise(h)))):n.empty;t=n.share(n.concat([t,e])),e=n.share(n.map(D)(n.filter(Le)(t))),t=n.filter(De)(t);var r=n.map(i)(n.filter(o)(e));return e=n.map(a)(n.filter(Me)(e)),r=n.share(k(n.map(A)(n.merge([t,r])))),t=n.map(s)(n.filter(f)(r)),r=n.mergeMap(c)(n.filter(l)(r)),n.merge([t,r,e])}}},Ce=function(e){return e&&e.networkError&&!e.response&&("undefined"!=typeof navigator&&!1===navigator.onLine||/request failed|failed to fetch|network\s?error/i.test(e.networkError.message))};exports.Store=ge,exports.cacheExchange=Ie,exports.offlineExchange=function(r){return function(o){function a(e){return"mutation"!==e.operation.kind||!Ce(e.error)||!function(e,t){var r,n=t.variables||S(),o=m(t.query);for(t=[].concat(u(v(t.query)));r=t.pop();)if(h(r,n))if(f(r)){if(e[i(r)])return!0}else(r=c(r)?r:o[i(r)])&&t.push.apply(t,u(r));return!1}(O,e.operation)||(_.push(e.operation),b(),!1)}function s(e){return"query"!==e.operation.kind||!Ce(e.error)||(g(Te(e.operation,"cache-only")),_.push(e.operation),!1)}var l=r.storage;if(l&&l.onOnline&&l.readMetadata&&l.writeMetadata){var d=o.forward,p=o.client;o=o.dispatchDebug;var y=n.makeSubject(),k=y.source,g=y.next,O=r.optimistic||{},_=[],b=function(){for(var t=[],r=0;r<_.length;r++){var n=_[r];"mutation"===n.kind&&t.push({query:e.print(n.query),variables:n.variables})}l.writeMetadata(t)},q=!1,w=function(){if(!q){q=!0;for(var e=0;e<_.length;e++){var r=_[e];"mutation"===r.kind&&g(t.makeOperation("teardown",r))}for(e=0;e<_.length;e++)p.reexecuteOperation(_[e]);_.length=0,q=!1,b()}};l.onOnline(w),l.readMetadata().then((function(e){if(e){for(var r=0;r<e.length;r++)_.push(p.createRequestOperation("mutation",t.createRequest(e[r].query,e[r].variables)));w()}}));var N=Ie(r)({client:p,dispatchDebug:o,forward:function(e){return n.filter(a)(d(e))}});return function(e){return e=n.share(e),e=n.merge([k,e]),n.filter(s)(N(e))}}return Ie(r)(o)}},exports.query=Oe,exports.write=ve;
//# sourceMappingURL=urql-exchange-graphcache.min.js.map
